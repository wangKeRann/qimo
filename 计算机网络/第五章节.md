# 网络层

## IP协议

### IPv4
- 分组
  - 头部长度
  - 分段相关的三个
  - TTL
  - 用户协议
- IP地址
  - IPv4地址
    - 点分十进制表示
    - 保留地址
    - 网络地址
    - 广播地址
    - 全零地址
    - 临时地址
    - 缺省目的
    - 泛洪广播地址
  - 子网划分
    - 子网掩码
    - 定长子网掩码
    - VLSM

### IPv6
- 分组
  - 流标签
  - 净荷长度
  - 下一个头
  - 跳数限制
- IPv6地址
  - 扩展头部
  - 冒分十六进制
  - 特殊IPv6地址
  - 子网规划

## 路由选择

### IGP
#### 距离矢量路由(DV)
- 基本原理
- 典型实例：RIP
- DV的问题
  - 计数到无穷
  - 路由环
- 解决问题的方法
  - 定义代价最大值
  - 水平分割
  - 毒性逆转
  - 抑制定时器
  - 触发更新

#### 链路状态路由(LS)
- 基本原理
  - 发现
  - 测量
  - 构造
  - 分发
  - 计算
- 实例：OSPF
  - 5种报文
    - Hello
    - DD
    - LSR
    - LSU
    - LSAck
  - 全毗邻关系建立
    - 双向关系
    - 主从关系
    - 交换拓扑数据库
    - 装载
    - 全毗邻
  - OSPF状态切换
  - 路由维护

### BGP
- 自治域
- 工作原理
- 5种BGP报文
- 主要属性

## 网络互联
- 面向连接的服务
- 无连接的服务
- 服务质量
- 拥塞控制
  - 拥塞根源
  - 解决手段
    - 逐跳抑制
    - 流量整形
      - 漏桶
      - 令牌桶
- 服务模型
  - 综合服务
  - 差分服务
- MPLS

## IP相关协议

### ARP
- 子网内ARP
- ARP表
- 远程主机的ARP
- ARP病毒

### NAT
- 基本原理
- 超载PAT
- 优点
- 缺点

### CIDR
- 两大问题
- CIDR
- 路由聚合：超网
- 优点

### DHCP
- DHCP客户状态迁移
- IP地址租期
- DHCP中继
